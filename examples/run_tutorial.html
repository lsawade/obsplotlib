<!doctype html>
<html class="no-js" lang="en">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />
<link rel="index" title="Index" href="../genindex.html" /><link rel="search" title="Search" href="../search.html" /><link rel="next" title="API" href="../api.html" /><link rel="prev" title="Tutorial of all functions" href="index.html" />

    <!-- Generated with Sphinx 5.3.0 and Furo 2023.03.27 -->
        <title>obsplotlib Tutorial - obsplotlib 0.0.5.3 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo.css?digest=fad236701ea90a88636c2a8c73b44ae642ed2a53" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-binder.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-dataframe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-rendered-html.css" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo-extensions.css?digest=30d1aed668e5c3a91c3e3bf6a60b675221979f0e" />
    
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../index.html"><div class="brand">obsplotlib 0.0.5.3 documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../index.html">
  
  
  <span class="sidebar-brand-text">obsplotlib 0.0.5.3 documentation</span>
  
</a><form class="sidebar-search-container" method="get" action="../search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current has-children"><a class="reference internal" href="index.html">Tutorial of all functions</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l2 current current-page"><a class="current reference internal" href="#"><code class="docutils literal notranslate"><span class="pre">obsplotlib</span></code> Tutorial</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../api.html">API</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <div class="sphx-glr-download-link-note admonition note">
<p class="admonition-title">Note</p>
<p><a class="reference internal" href="#sphx-glr-download-examples-run-tutorial-py"><span class="std std-ref">Go to the end</span></a>
to download the full example code</p>
</div>
<section class="sphx-glr-example-title" id="obsplotlib-tutorial">
<span id="sphx-glr-examples-run-tutorial-py"></span><h1><code class="docutils literal notranslate"><span class="pre">obsplotlib</span></code> Tutorial<a class="headerlink" href="#obsplotlib-tutorial" title="Permalink to this heading">#</a></h1>
<p>The tutorial will go over the plotting functions in <code class="docutils literal notranslate"><span class="pre">obsplotlib</span></code> and how to
prepare your data to plot traces, station seismograms and full seismic sections
using <code class="docutils literal notranslate"><span class="pre">obsplotlib</span></code>. Here and there the tutorial will digress into some
matplotlib details, to show how you could easily customize the plots to your
liking.</p>
<section id="loading-all-modules">
<h2>Loading all modules<a class="headerlink" href="#loading-all-modules" title="Permalink to this heading">#</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">obsplotlib.seismogram</span> <span class="kn">import</span> <span class="n">station</span>
<span class="kn">import</span> <span class="nn">obspy</span>
<span class="kn">import</span> <span class="nn">obsplotlib.plot</span> <span class="k">as</span> <span class="nn">opl</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
</pre></div>
</div>
</section>
<section id="loading-data">
<h2>Loading data<a class="headerlink" href="#loading-data" title="Permalink to this heading">#</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">event</span> <span class="o">=</span> <span class="n">obspy</span><span class="o">.</span><span class="n">read_events</span><span class="p">(</span><span class="s2">&quot;DATA/CMTSOLUTION&quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">raw</span> <span class="o">=</span> <span class="n">obspy</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s2">&quot;DATA/observed/traces/*.sac&quot;</span><span class="p">)</span>
<span class="n">inv</span> <span class="o">=</span> <span class="n">obspy</span><span class="o">.</span><span class="n">read_inventory</span><span class="p">(</span><span class="s2">&quot;DATA/observed/station.xml&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Before plotting anything let’s get some information about the event and the
station and process the data</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Get event latitude and longitude for geometry evaluation</span>
<span class="n">event_time</span> <span class="o">=</span> <span class="n">event</span><span class="o">.</span><span class="n">preferred_origin</span><span class="p">()</span><span class="o">.</span><span class="n">time</span>
<span class="n">event_latitude</span> <span class="o">=</span> <span class="n">event</span><span class="o">.</span><span class="n">preferred_origin</span><span class="p">()</span><span class="o">.</span><span class="n">latitude</span>
<span class="n">event_longitude</span> <span class="o">=</span> <span class="n">event</span><span class="o">.</span><span class="n">preferred_origin</span><span class="p">()</span><span class="o">.</span><span class="n">longitude</span>
<span class="n">event_depth</span> <span class="o">=</span> <span class="n">event</span><span class="o">.</span><span class="n">preferred_origin</span><span class="p">()</span><span class="o">.</span><span class="n">depth</span>  <span class="c1"># in meters</span>
<span class="n">event_name</span> <span class="o">=</span> <span class="s1">&#39;C&#39;</span> <span class="o">+</span> <span class="n">event</span><span class="o">.</span><span class="n">preferred_origin</span><span class="p">()</span><span class="o">.</span><span class="n">resource_id</span><span class="o">.</span><span class="n">id</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">)[</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
</pre></div>
</div>
<p>Attach the event station geometry to the traces, important for rotation to RTZ</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">opl</span><span class="o">.</span><span class="n">attach_geometry</span><span class="p">(</span><span class="n">raw</span><span class="p">,</span> <span class="n">event_latitude</span><span class="o">=</span><span class="n">event_latitude</span><span class="p">,</span>
                    <span class="n">event_longitude</span><span class="o">=</span><span class="n">event_longitude</span><span class="p">,</span> <span class="n">inv</span><span class="o">=</span><span class="n">inv</span><span class="p">)</span>
</pre></div>
</div>
<p>Processing the data very generically</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">bandpass</span> <span class="o">=</span> <span class="p">[</span><span class="mi">30</span><span class="p">,</span> <span class="mi">200</span><span class="p">]</span>
<span class="n">obs</span> <span class="o">=</span> <span class="n">opl</span><span class="o">.</span><span class="n">process</span><span class="p">(</span><span class="n">raw</span><span class="p">,</span> <span class="n">inv</span><span class="o">=</span><span class="n">inv</span><span class="p">,</span> <span class="n">remove_response</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">bandpass</span><span class="o">=</span><span class="n">bandpass</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="trace">
<h2>Trace<a class="headerlink" href="#trace" title="Permalink to this heading">#</a></h2>
<p>First let’s inspect the trace plotting function. It is in a way a wrapper
around the matplotlib plot function but with some added functionality to grab
info from the stats object and plot it in a “nice” way.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Select a trace</span>
<span class="n">network_str</span><span class="p">,</span> <span class="n">station_str</span><span class="p">,</span> <span class="n">component_str</span> <span class="o">=</span> <span class="s2">&quot;II&quot;</span><span class="p">,</span> <span class="s2">&quot;BFO&quot;</span><span class="p">,</span> <span class="s2">&quot;Z&quot;</span>
<span class="n">tr</span> <span class="o">=</span> <span class="n">obs</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="n">network</span><span class="o">=</span><span class="n">network_str</span><span class="p">,</span> <span class="n">station</span><span class="o">=</span><span class="n">station_str</span><span class="p">,</span>
                <span class="n">component</span><span class="o">=</span><span class="n">component_str</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>

<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">opl</span><span class="o">.</span><span class="n">trace</span><span class="p">(</span><span class="n">tr</span><span class="p">,</span> <span class="n">plot_labels</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">lw</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="n">block</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
<img src="../_images/sphx_glr_run_tutorial_001.svg" srcset="../_images/sphx_glr_run_tutorial_001.svg" alt="run tutorial" class = "sphx-glr-single-img"/><p>Since we have both station and event information in the stats object we can
add a header to the figure to be a little more explicit.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">opl</span><span class="o">.</span><span class="n">trace</span><span class="p">(</span><span class="n">tr</span><span class="p">,</span> <span class="n">plot_labels</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">origin_time</span><span class="o">=</span><span class="n">event_time</span><span class="p">,</span> <span class="n">lw</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>

<span class="n">header_dict</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span>
    <span class="n">station</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">tr</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">,</span>
    <span class="n">station_latitude</span><span class="o">=</span><span class="n">tr</span><span class="o">.</span><span class="n">stats</span><span class="o">.</span><span class="n">latitude</span><span class="p">,</span>
    <span class="n">station_longitude</span><span class="o">=</span><span class="n">tr</span><span class="o">.</span><span class="n">stats</span><span class="o">.</span><span class="n">longitude</span><span class="p">,</span>
    <span class="n">station_azimuth</span><span class="o">=</span><span class="n">tr</span><span class="o">.</span><span class="n">stats</span><span class="o">.</span><span class="n">azimuth</span><span class="p">,</span>
    <span class="n">station_back_azimuth</span><span class="o">=</span><span class="n">tr</span><span class="o">.</span><span class="n">stats</span><span class="o">.</span><span class="n">back_azimuth</span><span class="p">,</span>
    <span class="n">station_distance_in_degree</span><span class="o">=</span><span class="n">tr</span><span class="o">.</span><span class="n">stats</span><span class="o">.</span><span class="n">distance</span><span class="p">,</span>
    <span class="n">event</span><span class="o">=</span><span class="n">event_name</span><span class="p">,</span>
    <span class="n">event_latitude</span><span class="o">=</span><span class="n">event_latitude</span><span class="p">,</span>
    <span class="n">event_longitude</span><span class="o">=</span><span class="n">event_longitude</span><span class="p">,</span>
    <span class="n">event_depth_in_km</span><span class="o">=</span><span class="n">event_depth</span><span class="o">/</span><span class="mf">1000.0</span><span class="p">,</span>
    <span class="n">event_time</span><span class="o">=</span><span class="n">event_time</span><span class="p">,</span>
    <span class="n">add_newline_station</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="n">add_newline_event</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="n">bandpass</span><span class="o">=</span><span class="n">bandpass</span><span class="p">,</span>
    <span class="n">fontsize</span><span class="o">=</span><span class="s1">&#39;medium&#39;</span>
<span class="p">)</span>

<span class="n">opl</span><span class="o">.</span><span class="n">add_header</span><span class="p">(</span><span class="n">ax</span><span class="p">,</span> <span class="o">**</span><span class="n">header_dict</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">subplots_adjust</span><span class="p">(</span><span class="n">left</span><span class="o">=</span><span class="mf">0.05</span><span class="p">,</span> <span class="n">right</span><span class="o">=</span><span class="mf">0.95</span><span class="p">,</span> <span class="n">top</span><span class="o">=</span><span class="mf">0.725</span><span class="p">,</span> <span class="n">bottom</span><span class="o">=</span><span class="mf">0.15</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="n">block</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
<img src="../_images/sphx_glr_run_tutorial_002.svg" srcset="../_images/sphx_glr_run_tutorial_002.svg" alt="run tutorial" class = "sphx-glr-single-img"/><p>In the example above we are providing all possible arguments to the
<code class="docutils literal notranslate"><span class="pre">add_header</span></code> function just for show. Depending on whether they are provided
they will be added to the header or not. The header is a simple text object
and all font related arguments are passed through <code class="docutils literal notranslate"><span class="pre">plot_label</span></code> and to
<code class="docutils literal notranslate"><span class="pre">plt.text()</span></code>. The <code class="docutils literal notranslate"><span class="pre">add_newline_station</span></code> and <code class="docutils literal notranslate"><span class="pre">add_newline_event</span></code> arguments
Simply add a newline and a space after the station name and event name.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Digression: At this point you probably already noticed how I’m using
a monospace font. You may adjust this to your liking by changing the
<code class="docutils literal notranslate"><span class="pre">plt.rcParams[&quot;font.family&quot;]</span></code> parameter, e.g</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s2">&quot;font.family&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;Arial&quot;</span>
</pre></div>
</div>
<p>Monospace is a personal preference of mine, because it makes it easier to
align the header and the labels. But it is not the most beautiful font.
Especially, if you are comparing traces and plot labels that contain
numbers, it is simpler to compare numbers if they are aligned. Anywho
I will enable it for the next section before switching back to monospace.</p>
</div>
</section>
<section id="station">
<h2>Station<a class="headerlink" href="#station" title="Permalink to this heading">#</a></h2>
<p>The next function is the station function. Instead of plotting a single trace
it will plot a set of components in a single figure. It’s a wrapper around the
plot trace function, so most arguments are parsed to the trace function. The
The components are defined by a keyword argument. So you may use <code class="docutils literal notranslate"><span class="pre">ZRT</span></code>
<code class="docutils literal notranslate"><span class="pre">NEZ</span></code> or <code class="docutils literal notranslate"><span class="pre">123</span></code> or just two, <code class="docutils literal notranslate"><span class="pre">RT</span></code>, for example.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Switching font to Arial</span>
<span class="n">plt</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s2">&quot;font.family&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;Arial&quot;</span>

<span class="c1"># Get station from observed trace</span>
<span class="n">st</span> <span class="o">=</span> <span class="n">obs</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="n">network</span><span class="o">=</span><span class="s2">&quot;II&quot;</span><span class="p">,</span> <span class="n">station</span><span class="o">=</span><span class="s2">&quot;BFO&quot;</span><span class="p">)</span>

<span class="c1"># Plot the station</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>
<span class="n">axes</span> <span class="o">=</span> <span class="n">opl</span><span class="o">.</span><span class="n">station</span><span class="p">(</span><span class="n">st</span><span class="p">,</span> <span class="n">components</span><span class="o">=</span><span class="s1">&#39;ZRT&#39;</span><span class="p">,</span> <span class="n">lw</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>

<span class="c1"># If dissatisfied with legend fontsize and position? Just recreate it using</span>
<span class="c1"># the first axes object.</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">frameon</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">loc</span><span class="o">=</span><span class="s1">&#39;lower right&#39;</span><span class="p">,</span> <span class="n">ncol</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="s1">&#39;small&#39;</span><span class="p">,</span>
               <span class="n">bbox_to_anchor</span><span class="o">=</span><span class="p">(</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">))</span>

<span class="c1"># Add the header with a bit more distance to make room for the legend outside</span>
<span class="c1"># the  axes</span>
<span class="n">opl</span><span class="o">.</span><span class="n">add_header</span><span class="p">(</span><span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="o">**</span><span class="n">header_dict</span><span class="p">,</span> <span class="n">dist</span><span class="o">=</span><span class="mf">0.075</span><span class="p">)</span>

<span class="c1"># Slightly adjust the plots to make the fit nicely into the figure</span>
<span class="n">plt</span><span class="o">.</span><span class="n">subplots_adjust</span><span class="p">(</span><span class="n">left</span><span class="o">=</span><span class="mf">0.075</span><span class="p">,</span> <span class="n">right</span><span class="o">=</span><span class="mf">0.925</span><span class="p">,</span> <span class="n">top</span><span class="o">=</span><span class="mf">0.775</span><span class="p">,</span> <span class="n">bottom</span><span class="o">=</span><span class="mf">0.15</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="n">block</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
<img src="../_images/sphx_glr_run_tutorial_003.svg" srcset="../_images/sphx_glr_run_tutorial_003.svg" alt="run tutorial" class = "sphx-glr-single-img"/><p>Putting the legend outside the axes is nice when we are plotting multiple
traces to compare them. But if we are only plotting a single stream, it is
nicer to plot the legend inside the axes. Because it removes some unused
white space.</p>
</section>
<section id="section">
<h2>Section<a class="headerlink" href="#section" title="Permalink to this heading">#</a></h2>
<p>Plotting a section should be simple. And obspy does make it fairly easy, but
the moment you want to plot a section with multiple components, or align
traces it becomes fairly complicated. <code class="docutils literal notranslate"><span class="pre">obsplotlib</span></code> is trying to streamline
these processes, by using some function to add properties to the stats object
of the traces and then using these properties to plot the section. We actually
already did this earlier in the tutorial when we used
<code class="docutils literal notranslate"><span class="pre">opl.attach_geometry(...)</span></code> to attach the station coordinates to the stats.
If you don’t have a stationxml file, you can use opl.attach_geometry(…)
after attaching station coordinates to the traces’ stats objects, or manually
add distance, (and optionally, azimuth, and back_azimuth for labels)
to the stats object. To save space in the section, traces are not plotting by
their actual distance, but one by one with a label that has the distance.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Switching back to monospace</span>
<span class="n">plt</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s2">&quot;font.family&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;monospace&quot;</span>

<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>
<span class="n">opl</span><span class="o">.</span><span class="n">section</span><span class="p">(</span><span class="n">obs</span><span class="p">,</span> <span class="n">lw</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">comp</span><span class="o">=</span><span class="s1">&#39;T&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">frameon</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">loc</span><span class="o">=</span><span class="s1">&#39;upper right&#39;</span><span class="p">,</span> <span class="n">ncol</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="s1">&#39;small&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">subplots_adjust</span><span class="p">(</span><span class="n">left</span><span class="o">=</span><span class="mf">0.15</span><span class="p">,</span> <span class="n">right</span><span class="o">=</span><span class="mf">0.85</span><span class="p">,</span> <span class="n">top</span><span class="o">=</span><span class="mf">0.95</span><span class="p">,</span> <span class="n">bottom</span><span class="o">=</span><span class="mf">0.05</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="n">block</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
<img src="../_images/sphx_glr_run_tutorial_004.svg" srcset="../_images/sphx_glr_run_tutorial_004.svg" alt="run tutorial" class = "sphx-glr-single-img"/><p>Plotting the same section but with axis limits from 300 seconds to 1500 seconds
after the event</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">starttime</span> <span class="o">=</span> <span class="n">event_time</span> <span class="o">+</span> <span class="mi">600</span>
<span class="n">endtime</span> <span class="o">=</span> <span class="n">event_time</span> <span class="o">+</span> <span class="mi">3600</span>
<span class="n">limits</span> <span class="o">=</span> <span class="p">[</span><span class="n">starttime</span><span class="p">,</span> <span class="n">endtime</span><span class="p">]</span>

<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>
<span class="n">opl</span><span class="o">.</span><span class="n">section</span><span class="p">(</span><span class="n">obs</span><span class="p">,</span> <span class="n">limits</span><span class="o">=</span><span class="n">limits</span><span class="p">,</span> <span class="n">lw</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">subplots_adjust</span><span class="p">(</span><span class="n">left</span><span class="o">=</span><span class="mf">0.15</span><span class="p">,</span> <span class="n">right</span><span class="o">=</span><span class="mf">0.85</span><span class="p">,</span> <span class="n">top</span><span class="o">=</span><span class="mf">0.95</span><span class="p">,</span> <span class="n">bottom</span><span class="o">=</span><span class="mf">0.05</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="n">block</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
<img src="../_images/sphx_glr_run_tutorial_005.svg" srcset="../_images/sphx_glr_run_tutorial_005.svg" alt="run tutorial" class = "sphx-glr-single-img"/><p>Plotting the same section but with the origin time defined so that we get
Time since event origin on the x-axis.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>
<span class="n">opl</span><span class="o">.</span><span class="n">section</span><span class="p">(</span><span class="n">obs</span><span class="p">,</span> <span class="n">origin_time</span><span class="o">=</span><span class="n">event_time</span><span class="p">,</span> <span class="n">lw</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">subplots_adjust</span><span class="p">(</span><span class="n">left</span><span class="o">=</span><span class="mf">0.15</span><span class="p">,</span> <span class="n">right</span><span class="o">=</span><span class="mf">0.85</span><span class="p">,</span> <span class="n">top</span><span class="o">=</span><span class="mf">0.95</span><span class="p">,</span> <span class="n">bottom</span><span class="o">=</span><span class="mf">0.05</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="n">block</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
<img src="../_images/sphx_glr_run_tutorial_006.svg" srcset="../_images/sphx_glr_run_tutorial_006.svg" alt="run tutorial" class = "sphx-glr-single-img"/><p>Again plotting the same section but now with the origin time defined so that we
get Time since event origin on the x-axis and with axis limits from 300 seconds
to 1500 seconds after the event</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">limits</span> <span class="o">=</span> <span class="p">[</span><span class="mi">600</span><span class="p">,</span> <span class="mi">3600</span><span class="p">]</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>
<span class="n">opl</span><span class="o">.</span><span class="n">section</span><span class="p">(</span><span class="n">obs</span><span class="p">,</span> <span class="n">origin_time</span><span class="o">=</span><span class="n">event_time</span><span class="p">,</span> <span class="n">limits</span><span class="o">=</span><span class="n">limits</span><span class="p">,</span> <span class="n">lw</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">subplots_adjust</span><span class="p">(</span><span class="n">left</span><span class="o">=</span><span class="mf">0.15</span><span class="p">,</span> <span class="n">right</span><span class="o">=</span><span class="mf">0.85</span><span class="p">,</span> <span class="n">top</span><span class="o">=</span><span class="mf">0.95</span><span class="p">,</span> <span class="n">bottom</span><span class="o">=</span><span class="mf">0.05</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="n">block</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
<img src="../_images/sphx_glr_run_tutorial_007.svg" srcset="../_images/sphx_glr_run_tutorial_007.svg" alt="run tutorial" class = "sphx-glr-single-img"/><p>Next we are going to plot an aligned sections. To do this each trace must have
a obspy.Trace.stats.traveltime parameter. This can be done using the
add_traveltime function or manually using your own function.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">obs_filtered</span> <span class="o">=</span> <span class="n">opl</span><span class="o">.</span><span class="n">add_traveltime</span><span class="p">(</span><span class="n">obs</span><span class="p">,</span> <span class="n">phase</span><span class="o">=</span><span class="s1">&#39;love&#39;</span><span class="p">,</span> <span class="n">orbit</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
                                  <span class="n">return_filtered</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">vlove</span><span class="o">=</span><span class="mf">6.5</span><span class="p">)</span>
</pre></div>
</div>
<p>Note that the add traveltime function uses the TauPy model by default for
body waves and fixed velocity for surface waves. The traveltimes are then
computed using the distance parameter in the stats object.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>
<span class="n">opl</span><span class="o">.</span><span class="n">section</span><span class="p">(</span><span class="n">obs_filtered</span><span class="p">,</span> <span class="n">origin_time</span><span class="o">=</span><span class="n">event_time</span><span class="p">,</span> <span class="n">lw</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">align</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
            <span class="n">comp</span><span class="o">=</span><span class="s1">&#39;T&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">subplots_adjust</span><span class="p">(</span><span class="n">left</span><span class="o">=</span><span class="mf">0.15</span><span class="p">,</span> <span class="n">right</span><span class="o">=</span><span class="mf">0.85</span><span class="p">,</span> <span class="n">top</span><span class="o">=</span><span class="mf">0.95</span><span class="p">,</span> <span class="n">bottom</span><span class="o">=</span><span class="mf">0.05</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="n">block</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
<img src="../_images/sphx_glr_run_tutorial_008.svg" srcset="../_images/sphx_glr_run_tutorial_008.svg" alt="run tutorial" class = "sphx-glr-single-img"/><p>Now this does not make a lot of sense since the traces are not aligned at the
start. Conveniently we can set the limits parameter to only plot a certain
time range before and after the arrival times.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">limits</span> <span class="o">=</span> <span class="p">[</span><span class="o">-</span><span class="mi">500</span><span class="p">,</span> <span class="mi">500</span><span class="p">]</span>

<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>
<span class="n">opl</span><span class="o">.</span><span class="n">section</span><span class="p">(</span><span class="n">obs_filtered</span><span class="p">,</span> <span class="n">origin_time</span><span class="o">=</span><span class="n">event_time</span><span class="p">,</span> <span class="n">limits</span><span class="o">=</span><span class="n">limits</span><span class="p">,</span> <span class="n">lw</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span>
            <span class="n">align</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">comp</span><span class="o">=</span><span class="s1">&#39;T&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">subplots_adjust</span><span class="p">(</span><span class="n">left</span><span class="o">=</span><span class="mf">0.25</span><span class="p">,</span> <span class="n">right</span><span class="o">=</span><span class="mf">0.8</span><span class="p">,</span> <span class="n">top</span><span class="o">=</span><span class="mf">0.95</span><span class="p">,</span> <span class="n">bottom</span><span class="o">=</span><span class="mf">0.05</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="n">block</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
<img src="../_images/sphx_glr_run_tutorial_009.svg" srcset="../_images/sphx_glr_run_tutorial_009.svg" alt="run tutorial" class = "sphx-glr-single-img"/><p>Let’s also plot a section aligned to the P arrival times.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">obs_filtered</span> <span class="o">=</span> <span class="n">opl</span><span class="o">.</span><span class="n">add_traveltime</span><span class="p">(</span><span class="n">obs</span><span class="p">,</span> <span class="n">event_depth_in_m</span><span class="o">=</span><span class="n">event_depth</span><span class="p">,</span> <span class="n">phase</span><span class="o">=</span><span class="s1">&#39;P&#39;</span><span class="p">,</span>
                                  <span class="n">origin_time</span><span class="o">=</span><span class="n">event_time</span><span class="p">,</span>
                                  <span class="n">return_filtered</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">vlove</span><span class="o">=</span><span class="mf">3.7</span><span class="p">)</span>
<span class="n">limits</span> <span class="o">=</span> <span class="p">[</span><span class="o">-</span><span class="mi">100</span><span class="p">,</span> <span class="mi">150</span><span class="p">]</span>

<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>
<span class="n">ax</span><span class="p">,</span> <span class="n">ax2</span> <span class="o">=</span> <span class="n">opl</span><span class="o">.</span><span class="n">section</span><span class="p">(</span><span class="n">obs_filtered</span><span class="p">,</span> <span class="n">origin_time</span><span class="o">=</span><span class="n">event_time</span><span class="p">,</span> <span class="n">limits</span><span class="o">=</span><span class="n">limits</span><span class="p">,</span> <span class="n">lw</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span>
                      <span class="n">align</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="o">-</span><span class="mf">0.5</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">obs_filtered</span><span class="p">)</span> <span class="o">+</span> <span class="mf">0.5</span><span class="p">],</span> <span class="s1">&#39;k--&#39;</span><span class="p">,</span> <span class="n">lw</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">subplots_adjust</span><span class="p">(</span><span class="n">left</span><span class="o">=</span><span class="mf">0.15</span><span class="p">,</span> <span class="n">right</span><span class="o">=</span><span class="mf">0.85</span><span class="p">,</span> <span class="n">top</span><span class="o">=</span><span class="mf">0.95</span><span class="p">,</span> <span class="n">bottom</span><span class="o">=</span><span class="mf">0.1</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="n">block</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
<div class="sphx-glr-script-out highlight-pytb notranslate"><div class="highlight"><pre><span></span><span class="gt">Traceback (most recent call last):</span>
  File <span class="nb">&quot;/home/runner/work/obsplotlib/obsplotlib/examples/run_tutorial.py&quot;</span>, line <span class="m">266</span>, in <span class="n">&lt;module&gt;</span>
<span class="w">    </span><span class="n">ax</span><span class="p">,</span> <span class="n">ax2</span> <span class="o">=</span> <span class="n">opl</span><span class="o">.</span><span class="n">section</span><span class="p">(</span><span class="n">obs_filtered</span><span class="p">,</span> <span class="n">origin_time</span><span class="o">=</span><span class="n">event_time</span><span class="p">,</span> <span class="n">limits</span><span class="o">=</span><span class="n">limits</span><span class="p">,</span> <span class="n">lw</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span>
<span class="gr">TypeError</span>: <span class="n">cannot unpack non-iterable NoneType object</span>
</pre></div>
</div>
<p>Note that we have fewer traces here because some land in the Pwave shadow zone
and are not recorded but seismographs. Also note, that ax, and ax2 give you
axes to the left and right yaxes. ax and ax2 ticks actually set the left and
right y axes labels. So far we have only plotted a single
component (Z) in the section. <code class="docutils literal notranslate"><span class="pre">obsplotlib</span></code> also has a function to plot
multiple components in a single section. This is done using the
<code class="docutils literal notranslate"><span class="pre">opl.section_multiple_comp</span></code> function. This function takes the same arguments
But insted of being a single letter string, the components argument is a
string with all components to be plotted in order.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">9</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>
<span class="n">axes</span> <span class="o">=</span> <span class="n">opl</span><span class="o">.</span><span class="n">section_multiple_comp</span><span class="p">(</span><span class="n">obs_filtered</span><span class="p">,</span> <span class="n">origin_time</span><span class="o">=</span><span class="n">event_time</span><span class="p">,</span>
                                 <span class="n">limits</span><span class="o">=</span><span class="n">limits</span><span class="p">,</span> <span class="n">lw</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">align</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                 <span class="n">components</span><span class="o">=</span><span class="s2">&quot;ZRT&quot;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">ax</span><span class="p">,</span> <span class="n">_</span> <span class="ow">in</span> <span class="n">axes</span><span class="p">:</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="o">-</span><span class="mf">0.5</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">obs_filtered</span><span class="p">)</span> <span class="o">+</span> <span class="mf">0.5</span><span class="p">],</span> <span class="s1">&#39;k--&#39;</span><span class="p">,</span> <span class="n">lw</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">subplots_adjust</span><span class="p">(</span><span class="n">left</span><span class="o">=</span><span class="mf">0.15</span><span class="p">,</span> <span class="n">right</span><span class="o">=</span><span class="mf">0.85</span><span class="p">,</span> <span class="n">top</span><span class="o">=</span><span class="mf">0.95</span><span class="p">,</span> <span class="n">bottom</span><span class="o">=</span><span class="mf">0.05</span><span class="p">,</span> <span class="n">wspace</span><span class="o">=</span><span class="mf">0.75</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="n">block</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
<p>One main difference is that the section multiple components will find an
absmax to normalize across all streams and traces. This can be overwritten by
absmax parameter which can be manually set.</p>
<p class="sphx-glr-timing"><strong>Total running time of the script:</strong> (0 minutes 6.051 seconds)</p>
<div class="sphx-glr-footer sphx-glr-footer-example docutils container" id="sphx-glr-download-examples-run-tutorial-py">
<div class="sphx-glr-download sphx-glr-download-python docutils container">
<p><a class="reference download internal" download="" href="../_downloads/41a5e94ffb93dcc61268579181ad4336/run_tutorial.py"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">Python</span> <span class="pre">source</span> <span class="pre">code:</span> <span class="pre">run_tutorial.py</span></code></a></p>
</div>
<div class="sphx-glr-download sphx-glr-download-jupyter docutils container">
<p><a class="reference download internal" download="" href="../_downloads/05c7ff5464cb5a71d3378743c612f30f/run_tutorial.ipynb"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">Jupyter</span> <span class="pre">notebook:</span> <span class="pre">run_tutorial.ipynb</span></code></a></p>
</div>
</div>
<p class="sphx-glr-signature"><a class="reference external" href="https://sphinx-gallery.github.io">Gallery generated by Sphinx-Gallery</a></p>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="../api.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">API</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="index.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Tutorial of all functions</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2023, Lucas Sawade
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#"><code class="docutils literal notranslate"><span class="pre">obsplotlib</span></code> Tutorial</a><ul>
<li><a class="reference internal" href="#loading-all-modules">Loading all modules</a></li>
<li><a class="reference internal" href="#loading-data">Loading data</a></li>
<li><a class="reference internal" href="#trace">Trace</a></li>
<li><a class="reference internal" href="#station">Station</a></li>
<li><a class="reference internal" href="#section">Section</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/sphinx_highlight.js"></script>
    <script src="../_static/scripts/furo.js"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js"></script>
    <script src="../_static/design-tabs.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    </body>
</html>